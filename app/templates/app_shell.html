{% extends 'layout.html' %}
{% block title %}Mochi List | アプリプレビュー{% endblock %}

{% block content %}
  <!-- 1. ログイン画面 -->
  <section id="view-login" class="auth-page" hidden>
    <div class="split-layout">
      <div class="hero-panel"><span class="hero-logo">MOCHI</span></div>
      <div class="form-panel">
        <div class="tab-bar">
          <button class="tab-link active">ログイン</button>
          <button class="tab-link" onclick="app.router.go('register')">新規登録</button>
        </div>
        <form class="auth-form" onsubmit="event.preventDefault(); app.login();">
          <div class="auth-field">
            <label>メールアドレス</label>
            <input type="email" value="demo@example.com" placeholder="入力" required>
          </div>
          <div class="auth-field">
            <label>パスワード</label>
            <input type="password" value="password" placeholder="入力" required>
          </div>
          <button type="submit" class="button-dark">ログインする</button>
        </form>
      </div>
    </div>
  </section>

  <!-- 1.5. 新規登録画面 -->
  <section id="view-register" class="auth-page" hidden>
    <div class="split-layout">
      <div class="hero-panel"><span class="hero-logo">MOCHI</span></div>
      <div class="form-panel">
        <div class="tab-bar">
          <button class="tab-link" onclick="app.router.go('login')">ログイン</button>
          <button class="tab-link active">新規登録</button>
        </div>
        <form class="auth-form" onsubmit="event.preventDefault(); app.register();">
          <div class="auth-field"><label>ユーザー名</label><input type="text" id="reg-name" placeholder="入力" required></div>
          <div class="auth-field"><label>メールアドレス</label><input type="email" id="reg-email" placeholder="入力" required></div>
          <div class="auth-field"><label>パスワード</label><input type="password" id="reg-password" placeholder="入力" required></div>
          <button type="submit" class="button-dark">アカウントを作成する</button>
        </form>
      </div>
    </div>
  </section>

  <!-- 1.6. 登録完了画面 -->
  <section id="view-register-complete" class="page-section" hidden>
    <div class="complete-main">
      <section class="complete-card success-card">
        <div class="complete-check">✔</div>
        <h1>新規登録が完了しました</h1>
        <p class="complete-subtext">Mochi Listにご登録いただき<br />誠にありがとうございます</p>
        <button class="complete-button" onclick="app.router.go('create')">プランを作成する</button>
      </section>
    </div>
  </section>

  {% include 'plan/partials/plan_list.html' %}
  {% include 'plan/partials/plan_create.html' %}
  {% include 'plan/partials/detail.html' %}
  {% include 'plan/partials/plan_edit.html' %}
  {% include 'plan/partials/workspace.html' %}
{% endblock %}

{% block modals %}
  {% include 'plan/partials/modals.html' %}
{% endblock %}
