{% extends 'layout.html' %}

{% block title %}è‡ªåˆ†ã®ãƒ—ãƒ©ãƒ³ä¸€è¦§ | Mochi List{% endblock %}

{% block content %}
  <section class="page-section plan-shelf">
    <header class="plan-shelf__header">
      <h1>ãƒ—ãƒ©ãƒ³ä¸€è¦§</h1>
      <div class="plan-shelf__actions">
        <form method="get" class="plan-search-form">
          <label class="plan-search">
            <span class="plan-search__icon">ğŸ”</span>
            {# ãƒ«ãƒ¼ãƒˆã‹ã‚‰ query ã‚’æ¸¡ã—ã¦ã„ãªã„ã®ã§ request ã‹ã‚‰ç›´æ¥èª­ã‚€ or ç©ºæ–‡å­— #}
            <input
              type="search"
              name="q"
              placeholder="è‡ªåˆ†ã®æ—…è¡Œãƒ—ãƒ©ãƒ³ã‚’æ¤œç´¢"
              value="{{ request.args.get('q', '') }}"
            />
          </label>
        </form>
        <a class="plan-index__create plan-index__create--ghost" href="{{ url_for('plan.plan_create_form') }}">ï¼‹æ—…è¡Œãƒ—ãƒ©ãƒ³ã‚’ä½œæˆã™ã‚‹</a>
        <form action="{{ url_for('plan.create_dummy_plan') }}" method="post" style="display: inline;">
            <button type="submit" class="plan-index__create plan-index__create--ghost" style="cursor: pointer; background: none; border: none; /* å¿…è¦ã«å¿œã˜ã¦ã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´ */">
                ï¼‹ãƒ€ãƒŸãƒ¼ãƒ—ãƒ©ãƒ³ã‚’ä½œæˆã™ã‚‹
            </button>
        </form>
      </div>
    </header>

    {% if plans %}
      <div class="plan-tiles plan-tiles--wide">
        {% for plan in plans %}
          {% with detail_url=url_for('plan.plan_detail', plan_id=plan.id, source='own') %}
            {% include 'components/_plan_card.html' %}
          {% endwith %}
        {% endfor %}
      </div>
      <p class="plan-pagination">
        <span class="is-current">1</span>
        <span>2</span>
        <span>3</span>
        <span>4</span>
        <span>â€¦</span>
        <span>20</span>
      </p>
    {% else %}
      <div class="plan-shelf__empty">
        <p class="plan-shelf__empty-count">æ¤œç´¢çµæœ {{ plans|length }}ä»¶</p>
        <p class="plan-shelf__empty-hint">æ¡ä»¶ã‚’å¤‰ãˆã¦å†æ¤œç´¢ã—ã¦ãã ã•ã„ã€‚</p>
      </div>
    {% endif %}
  </section>
{% endblock %}
