{% extends 'layout.html' %}

{% block title %}å…¬é–‹ãƒ—ãƒ©ãƒ³ä¸€è¦§ | Mochi List{% endblock %}

{% block content %}
  <section class="page-section plan-public">
    <header class="plan-shelf__header">
      <h1>å…¬é–‹ ãƒ—ãƒ©ãƒ³ä¸€è¦§</h1>
      <div class="plan-shelf__actions">
        <form method="get" class="plan-search-form">
          <label class="plan-search">
            <span class="plan-search__icon">ğŸ”</span>
            <input type="search" name="q" placeholder="ä»–äººã®æ—…è¡Œãƒ—ãƒ©ãƒ³ã‚’æ¤œç´¢" value="{{ query }}" />
          </label>
        </form>
        <a class="plan-public__history" href="#">ä¿å­˜å±¥æ­´</a>
      </div>
    </header>

    {% if error_message %}
      <p class="form-error">{{ error_message }}</p>
    {% endif %}

    {% if plans %}
      <div class="plan-tiles plan-tiles--public">
        {% for template in plans %}
          {% with plan=template, can_delete=False, detail_url=url_for('plan.plan_detail', plan_id=template.template_id, source='public') %}
            {% include 'components/_plan_card.html' %}
          {% endwith %}
        {% endfor %}
      </div>
    {% else %}
      <p class="plan-public__empty">â€» è¡¨ç¤ºã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>
    {% endif %}
  </section>
{% endblock %}
